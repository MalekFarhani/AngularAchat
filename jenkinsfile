pipeline{
    agent any

stages{
   /* stage('clean workspace')
        {
            steps{
                cleanWs()
                 }
        } */

    stage('pulling the code')
        {
            steps{
                git branch: 'dev', 
                url: 'https://github.com/MalekFarhani/AngularAchat'
                 }   
        }
    
   
}
  post {
     always {
        script {
        def owaspFsScanReportPath = "**/dependency-check-report.xml"
        emailext attachLog: true,
            subject: "'${currentBuild.result}'",
            body: "Project: ${env.JOB_NAME}<br/>" +
                "Build Number: ${env.BUILD_NUMBER}<br/>" +
                "URL: ${env.BUILD_URL}<br/>",
            to: 'devopsteam1009@gmail.com',
            attachmentsPattern: "trivyfs.txt,trivyimage.txt,${owaspFsScanReportPath}"
        }}
    }
}   